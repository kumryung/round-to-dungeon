# Round the Dungeon - Development Summary

이 문서는 프로젝트 시작 이후 현재까지 개발 및 개선된 주요 기능과 시스템 변경 사항을 종합한 요약본입니다.

## 1. 다국어 지원 (i18n) 시스템 구축 및 고도화
*   **다국어 로직 구현**: `src/i18n.js`를 통해 한국어(`ko.js`), 영어(`en.js`), 일본어(`ja.js`) 간의 실시간 언어 전환 인터페이스 및 로직 구축.
*   **UI 및 데이터 반영**: 게임 내 정적 텍스트, 아이템 이름, 몬스터 이름, 이벤트 다이얼로그, 스킬 정보부터 동적인 전투 로그까지 모든 텍스트 요소를 다국어 시스템으로 분리 및 적용 완료.
*   **자동화 도구 개발**: `extractKeys.js`, `injectKeys.js`, `replaceEventsBlock.js` 등의 스크립트를 개발하여 하드코딩된 문자열을 효율적으로 추출하고, 번역 키(Key)를 주입하는 파이프라인 구축.

## 2. 장비 착용 요구조건 시스템 도입
*   **클래스 및 스탯 기반 제한**: 아이템(`equipReq` 속성)에 특정 직업군(ex: 전사 계열 전용)이나 최소 스탯(ex: Str 15 이상)을 요구하는 로직을 `inventory.js`에 구현.
*   **UI 피드백 제공**: 요구조건을 충족하지 못하는 장비는 인벤토리 타일이 붉게 표시되고(CSS `.req-not-met` 클래스 적용), 장착 버튼이 비활성화되며 사유가 명확히 툴팁으로 표시되도록 UI 개선.

## 3. 정신력(Sanity) 시스템 고도화
*   **정신력 상태 체계**: `dungeonState.js`에 정신력 수치에 따른 5단계 상태(Sane, Stressed, Anxious, Paranoid, Insane) 정의 및 구현.
*   **능력치 페널티 적용**: 상태가 악화될수록 회피율 저하, 명중률 감소, 받는 데미지 증가 등 시너지 효과를 내는 동적 스탯 모디파이어 시스템 적용.
*   **HUD 시각 효과**: 낮아진 정신력 단계를 색상(경고색/위험색)과 텍스트로 HUD에 실시간 반영.

## 4. ATB(Active Time Battle) 턴제 전투 엔진 구축
*   **속도 기반 턴 시스템**: 기존의 스킬 쿨타임 방식에서 벗어나, 캐릭터와 몬스터의 `spd`(속도) 스탯에 기반하여 행동 게이지가 차오르고, 게이지가 가득 차면 턴을 획득하는 구조(`combatEngine.js`)로 전면 개편.
*   **전투 UI 개편**: `combatOverlay.js`를 통해 플레이어와 몬스터의 HP 패널 하단에 실시간으로 차오르는 ATB 게이지 바(Action Gauge) 시각화 적용 (`.atb-bar` CSS 연동).

## 5. 방대한 던전 이벤트 확장 및 상태이상 시스템
*   **이벤트 대규모 추가 (총 90종)**:
    *   `src/data/events.js` 신설을 통한 이벤트 데이터 분리 및 관리 편의성 향상.
    *   공통 등장 이벤트 40종 적용 (상자, 상인, 함정, 버섯 등).
    *   10개 핵심 테마(숲, 광산, 유적, 늪지, 화산, 성채, 사막, 설원, 묘지, 심연)별로 각각 고유한 전용 이벤트 5종씩, 총 50종 적용.
*   **상호작용 심화**: 단순히 결과만 통보받는 방식에서 벗어나, `이벤트 모달`을 통해 플레이어가 선택지를 고르고, 특정 아이템(예: 삽, 성수, 밧줄)을 소모해야 유리한 결과를 얻을 수 있도록 상호작용 강화.
*   **지속 상태이상(N턴 효과) 도입**: 화상, 중독, 출혈, 재생, 축복, 저주 등의 상태이상을 구현하고, 턴(타일 이동 횟수)에 따라 지속 시간이 감소하며 도트 데미지/회복이 발생하도록 `dungeonState.js` 업그레이드. HUD에 뱃지(배지) 형태로 유지 상태 시각화.

## 6. 전투 이탈 방지 및 결속력(Persistence) 강화
*   **상태 보존**: 전투 중에 창을 닫거나 다른 탭으로 이동할 수 없도록 이탈을 원천 차단하고, 전투 진행 로그가 유지되도록 모달 오버레이 로직 개편.

## 7. 다채로운 컨텐츠 데이터 확장
*   **아이템 및 몬스터 풀 추가**: 다양한 테마에 맞는 새로운 몬스터(발록, 오크, 어둠의 기사 등)와 그에 맞는 재료/장비 아이템 데이터베이스 확충 (`items.js`, `monsters.js`).
*   **맵 구성 다양화**: 맵마다 등장하는 몬스터, 보물, 이벤트(테마 풀)의 종류 및 등장 확률(주사위 비율)을 차등 적용하여 레벨별 도전 과제와 보상의 균형 조정 (`maps.js`).
*   **문서 최신화**: 게임의 스펙과 기획이 변경될 때마다 `DATASET.md`를 최신 상태로 유지하여, 복잡한 시스템의 청사진을 완벽히 보존.

## 8. 프리미엄 고딕 테마 UI/UX 통일성 강화
*   버튼 스타일링, 프로그레스 바(경험치, 체력, 정신력), 아이템 슬롯 호버 효과 등 전반적인 UI 요소에 다크 고딕 판타지 풍의 프리미엄 CSS를 일관되게 적용하여 디자인 일체감 확보 (`style.css`).

## 9. 시각/청각 효과(VFX & Sound) 시스템 구축
*   **Web Audio API 사운드 엔진**: 외부 오디오 파일 다운로드 없이 브라우저 내장 오실레이터(Oscillator)를 활용해 8비트 레트로풍 타격음, 피격음, UI 클릭음, 주사위 소리 등을 절차적으로 생성하는 `soundEngine.js` 구축. 최초 클릭 시 오디오 컨텍스트를 웜업(Warm-up)하여 재생 지연(Lag) 문제 완전 해소.
*   **VFX 엔진**: 화면 흔들림(Screen Shake), 붉은 화면 점멸(Damage Flash), CSS 글리치 효과, 스폰 팝 애니메이션 등 역동성을 더하는 `vfxEngine.js` 도입.
*   **사운드 셋팅 동기화**: `gameState.js`에 글로벌 볼륨 및 음소거 설정값을 저장하여, 새로고침 후에도 플레이어의 사운드 설정이 영구 보존되도록 마을 '설정' 탭 UI와 결합.
